<!doctype html>
<html lang="en">
<head>
  <canonical ...>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <style>
    body{font-family:Arial,Helvetica,sans-serif;max-width:600px;margin:auto;padding:1rem;}
    label{display:block;margin-top:0.5rem;}
  </style>
  <title>Todo List</title>
</head>
<body>
  <form action="{{ url_for('add') }}" method="post" class="mb-3">
    <label>Title
      <input type="text" name="title" placeholder="Title" required style="width:100%;">
    </label>
    <label>Details
      <input type="text" name="details" placeholder="Details" style="width:100%;">
    </label>
    <button type="submit" class="btn btn-primary">Add</button>
  </form>
  <ul class="list-group">
  {% for todo in todos %}
    <li class="list-group-item">
      <strong>{{ todo['title'] }}</strong> - {{ todo['details'] or '' }}
      <form action="{{ url_for('toggle', id=todo['id']) }}" method="post" style="display:inline;">
        <input type="checkbox" name="completed" onchange="this.form.submit()" {% if todo['completed'] %}checked{% endif %}>
      </form>
      <form action="{{ url_for('delete', id=todo['id']) }}" method="post" style="display:inline;">
        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
      </form>
    </li>
  {% else %}
    <li class="list-group-item">No todos yet.</li>
  {% endfor %}
  </ul>
<body>
</html>